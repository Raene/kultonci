(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signup"],{"290c":function(e,t,s){"use strict";var a=s("e0ee"),i=s.n(a);i.a},"3df1":function(e,t,s){},"5a13":function(e,t,s){},"5c9c":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"sign_up"}},[s("div",{staticClass:"main"},[e.kycReady?s("KnowYourCustomer"):s("section",{staticClass:"signup"},[s("div",{staticClass:"signup-content"},[s("div",{staticClass:"signup-form"},[s("h2",{staticClass:"form-title text-center"},[e._v("Sign up")]),s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid;return[s("form",{staticClass:"register-form",attrs:{method:"POST",id:"register-form"},on:{submit:function(t){return t.preventDefault(),e.storeSignUpDetails(t)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[s("i",{staticClass:"zmdi zmdi-account"})]),s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,i=t.invalid,r=t.valid,n=t.untouched;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],class:{invalid:i,valid:r,untouched:n},attrs:{type:"text",name:"name",id:"name",placeholder:"Your Name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}}),s("span",[e._v(e._s(a[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[s("i",{staticClass:"zmdi zmdi-email"})]),s("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,i=t.invalid,r=t.valid,n=t.untouched;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:{invalid:i,valid:r,untouched:n},attrs:{type:"email",name:"email",id:"email",placeholder:"Your Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),s("span",[e._v(e._s(a[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"pass"}},[s("i",{staticClass:"zmdi zmdi-lock"})]),s("ValidationProvider",{attrs:{rules:"required|password:@confirm"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,i=t.invalid,r=t.valid,n=t.untouched;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],class:{invalid:i,valid:r,untouched:n},attrs:{type:"password",name:"pass",id:"pass",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),s("span",[e._v(e._s(a[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"re-pass"}},[s("i",{staticClass:"zmdi zmdi-lock-outline"})]),s("ValidationProvider",{attrs:{name:"confirm",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,i=t.invalid,r=t.valid,n=t.untouched;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.repeat_password,expression:"user.repeat_password"}],class:{invalid:i,valid:r,untouched:n},attrs:{type:"password",name:"re_pass",id:"re_pass",placeholder:"Repeat your password"},domProps:{value:e.user.repeat_password},on:{input:function(t){t.target.composing||e.$set(e.user,"repeat_password",t.target.value)}}}),s("span",[e._v(e._s(a[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.termAgreementisChecked,expression:"termAgreementisChecked"}],staticClass:"agree-term",attrs:{type:"checkbox",name:"agree-term",id:"agree-term"},domProps:{checked:Array.isArray(e.termAgreementisChecked)?e._i(e.termAgreementisChecked,null)>-1:e.termAgreementisChecked},on:{change:function(t){var s=e.termAgreementisChecked,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=null,n=e._i(s,r);a.checked?n<0&&(e.termAgreementisChecked=s.concat([r])):n>-1&&(e.termAgreementisChecked=s.slice(0,n).concat(s.slice(n+1)))}else e.termAgreementisChecked=i}}}),s("label",{staticClass:"label-agree-term",attrs:{for:"agree-term"}},[s("span",[s("span")]),e._v("I accept "),s("a",{staticClass:"term-service",attrs:{href:"#"}},[e._v("terms & conditons")])])]),s("div",{staticClass:"form-group form-button"},[s("input",{staticClass:"form-submit",attrs:{type:"submit",name:"signup",id:"signup",value:"Continue",disabled:a}})])])]}}],null,!1,3417624699)}),s("div",{staticClass:"alt-text"},[s("p",[e._v(" Already a member? "),s("router-link",{staticStyle:{display:"inline-block"},attrs:{to:{path:"/login"}}},[e._v("Log in")])],1)])],1)])])],1),s("VueInjectJs",{attrs:{src:"/js/main.js"}}),s("VueInjectJs",{attrs:{src:"/landing/js/jquery.js"}})],1)},i=[],r=(s("b0c0"),s("4663")),n=s.n(r),o=s("8f2c"),l=s("7bb1"),u={components:{VueInjectJs:n.a,KnowYourCustomer:o["a"],ValidationProvider:l["b"],ValidationObserver:l["a"]},data:function(){return{user:{name:null,email:null,password:null,repeat_password:null},termAgreementisChecked:null,subscribeIsChecked:null,kycReady:!1}},methods:{storeSignUpDetails:function(){this.$store.commit("user/SET_INITIAL_SIGNUP_DETAILS",{name:this.user.name,email:this.user.email,password:this.user.password,repeat_password:this.user.repeat_password}),this.kycReady=!0,console.log("shit, it worked")}}},c=u,d=(s("a41f"),s("290c"),s("73a8"),s("2877")),m=Object(d["a"])(c,a,i,!1,null,"f3e85628",null);t["default"]=m.exports},"73a8":function(e,t,s){"use strict";var a=s("ced6"),i=s.n(a);i.a},"8f2c":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"kyc"}},[e.isLoggingIn?s("Preloader"):e._e(),e.isLoggingIn?e._e():s("div",{staticClass:"container"},["/signup"===e.path?s("h2",{staticClass:"form-title"},[e._v("Verify your identity")]):s("h2",{staticClass:"form-title"},[e._v("Upload proof of payment")]),s("form",{staticClass:"register-form",on:{submit:function(t){return t.preventDefault(),e.runKyc(t)}}},[s("div",{staticClass:"form-group"},["/signup"===e.path?s("p",{staticClass:"text-center"},[e._v("Upload your passport image, national ID, or Driver's Licence")]):e._e(),s("br"),s("label",{staticClass:"form-submit"},[s("input",{attrs:{type:"file",id:"file-Input"},on:{change:e.preview}}),e._v(" Insert Image ")]),e._m(0)]),(e.path,s("div",{staticClass:"form-group form-button"},[s("button",{staticClass:"form-submit",attrs:{type:"submit"}},[e._v("Upload")])]))])])],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"imagepreview",attrs:{id:"image-Preview"}},[s("img",{staticClass:"imagepreview__image",attrs:{src:"",alt:"Image Preview"}}),s("span",{staticClass:"imagepreview__default-text"},[e._v("Image Preview")])])}],r=(s("b0c0"),s("f152")),n={components:{Preloader:r["a"]},data:function(){return{handyAttachments:[],isLoggingIn:!1,path:this.$route.path}},computed:{initialSignupDetails:function(){return this.$store.getters["user/getInitialSignupDetails"]}},methods:{runKyc:function(){"/signup"===this.path?this.signup():this.uploadProofOfPayment()},signup:function(){var e=this,t=document.querySelector("#file-Input");console.log("kyc: ",t);var s=new FormData;s.append("name",this.initialSignupDetails.name),s.append("email",this.initialSignupDetails.email),s.append("password",this.initialSignupDetails.password),s.append("repeat_password",this.initialSignupDetails.repeat_password),s.append("kyc",t.files[0]),this.$store.dispatch("user/signup",s).then((function(t){t?(e.isLoggingIn=!1,console.log(t),e.$swal({icon:"error",title:"Signup Unsuccessful",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)}})):(e.isLoggingIn=!1,e.$swal({position:"center",icon:"success",title:"Signup Successful",showConfirmButton:!1,timer:1500}),e.$router.push({path:"/login"}))}))},uploadProofOfPayment:function(){var e=document.querySelector("#file-Input");console.log("beans: ",e);var t=new FormData;t.append("kyc",e.files[0])},preview:function(){var e=document.getElementById("file-Input"),t=document.getElementById("image-Preview"),s=t.querySelector(".imagepreview__image"),a=t.querySelector(".imagepreview__default-text"),i=e.files[0],r=this;if(i){var n=new FileReader;a.style.display="none",s.style.display="block",n.addEventListener("load",(function(){s.setAttribute("src",this.result),r.$store.commit("setImgUrl",this.result),localStorage.setItem("imageUrl",this.result),console.log("result: ",this.result)})),n.readAsDataURL(i)}else a.style.display=null,s.style.display=null,s.setAttribute("src","")}}},o=n,l=(s("fae4"),s("2877")),u=Object(l["a"])(o,a,i,!1,null,"f2f8f15e",null);t["a"]=u.exports},a41f:function(e,t,s){"use strict";var a=s("3df1"),i=s.n(a);i.a},ced6:function(e,t,s){},e0ee:function(e,t,s){},fae4:function(e,t,s){"use strict";var a=s("5a13"),i=s.n(a);i.a}}]);
//# sourceMappingURL=signup.1bd78275.js.map